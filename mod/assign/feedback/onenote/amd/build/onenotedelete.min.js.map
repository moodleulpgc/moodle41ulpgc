{"version":3,"sources":["../src/onenotedelete.js"],"names":["define","$","templates","ajax","notification","Str","ModalFactory","ModalEvents","init","trigger","gradeid","attr","contextid","userid","create","type","types","SAVE_CANCEL","title","get_string","body","done","modal","getRoot","on","save","e","preventDefault","requests","call","methodname","args","location","reload","fail","exception"],"mappings":"AAAAA,OAAM,wCAAC,CAAC,QAAD,CACD,gBADC,CAED,WAFC,CAGD,mBAHC,CAID,UAJC,CAKD,oBALC,CAMD,mBANC,CAAD,CAOF,SAASC,CAAT,CAAYC,CAAZ,CAAuBC,CAAvB,CAA6BC,CAA7B,CAA2CC,CAA3C,CAAgDC,CAAhD,CAA8DC,CAA9D,CAA4E,CAC1E,MAAO,CACLC,IAAI,CAAE,eAAY,IACZC,CAAAA,CAAO,CAAGR,CAAC,CAAC,qBAAD,CADC,CAEZS,CAAO,CAAGT,CAAC,CAACQ,CAAD,CAAD,CAAWE,IAAX,CAAgB,SAAhB,CAFE,CAGZC,CAAS,CAAGX,CAAC,CAACQ,CAAD,CAAD,CAAWE,IAAX,CAAgB,WAAhB,CAHA,CAIZE,CAAM,CAAGZ,CAAC,CAACQ,CAAD,CAAD,CAAWE,IAAX,CAAgB,QAAhB,CAJG,CAKhBL,CAAY,CAACQ,MAAb,CAAoB,CAClBC,IAAI,CAAET,CAAY,CAACU,KAAb,CAAmBC,WADP,CAElBC,KAAK,CAAEb,CAAG,CAACc,UAAJ,CAAe,uBAAf,CAAwC,wBAAxC,CAFW,CAGlBC,IAAI,CAAEf,CAAG,CAACc,UAAJ,CAAe,6BAAf,CAA8C,wBAA9C,CAHY,CAApB,CAIGV,CAJH,EAKKY,IALL,CAKU,SAAUC,CAAV,CAAiB,CACrBA,CAAK,CAACC,OAAN,GAAgBC,EAAhB,CAAmBjB,CAAW,CAACkB,IAA/B,CAAqC,SAAUC,CAAV,CAAa,CAEhDA,CAAC,CAACC,cAAF,GACAC,QAAQ,CAAGzB,CAAI,CAAC0B,IAAL,CAAU,CAAC,CACpBC,UAAU,CAAE,oCADQ,CAEpBC,IAAI,CAAE,CAACnB,SAAS,CAAEA,CAAZ,CAAuBF,OAAO,CAAEA,CAAhC,CAA0CG,MAAM,CAAEA,CAAlD,CAFc,CAAD,CAAV,CAAX,CAKAe,QAAQ,CAAC,CAAD,CAAR,CAAYP,IAAZ,CAAiB,UAAgB,CAC/BW,QAAQ,CAACC,MAAT,EACD,CAFD,EAEGC,IAFH,CAEQ9B,CAAY,CAAC+B,SAFrB,CAGD,CAXD,CAYD,CAlBL,CAmBD,CAzBI,CA2BR,CAnCC,CAAN","sourcesContent":["define(['jquery',\n      'core/templates',\n      'core/ajax',\n      'core/notification',\n      'core/str',\n      'core/modal_factory',\n      'core/modal_events'],\n    function($, templates, ajax, notification, Str, ModalFactory, ModalEvents,) {\n      return {\n        init: function () {\n          var trigger = $('#deleteuserfeedback');\n          var gradeid = $(trigger).attr('gradeid');\n          var contextid = $(trigger).attr('contextid');\n          var userid = $(trigger).attr('userid');\n          ModalFactory.create({\n            type: ModalFactory.types.SAVE_CANCEL,\n            title: Str.get_string('deletefeedbackconfirm', 'assignfeedback_onenote'),\n            body: Str.get_string('deletefeedbackconfirmdetail', 'assignfeedback_onenote'),\n          }, trigger)\n              .done(function (modal) {\n                modal.getRoot().on(ModalEvents.save, function (e) {\n                  // Stop the default save button behaviour which is to close the modal.\n                  e.preventDefault();\n                  requests = ajax.call([{\n                    methodname: 'mod_assign_feedback_onenote_delete',\n                    args: {contextid: contextid, gradeid: gradeid , userid: userid }\n                  }]);\n\n                  requests[0].done(function (plan) {\n                    location.reload();\n                  }).fail(notification.exception);\n                });\n              });\n        }\n      }\n    });\n"],"file":"onenotedelete.min.js"}