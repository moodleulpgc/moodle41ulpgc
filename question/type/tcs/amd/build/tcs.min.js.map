{"version":3,"sources":["../src/tcs.js"],"names":["define","$","SELECTORS","RADIOANSWER","TEXTAREAFEEDBACK","TcsQuestion","outsidefieldcompetenceid","inputhidden","attachEventListeners","prototype","checkboxid","on","questionform","parent","answers","find","feedback","is","val","prop"],"mappings":"AAwBAA,OAAM,iBAAC,CAAC,QAAD,CAAD,CACF,SAASC,CAAT,CAAY,IAEJC,CAAAA,CAAS,CAAG,CACZC,WAAW,CAAE,6BADD,CAEZC,gBAAgB,CAAE,0BAFN,CAFR,CAaJC,CAAW,CAAG,SAASC,CAAT,CAAmCC,CAAnC,CAAgD,CAE9D,KAAKC,oBAAL,CAA0BF,CAA1B,CAAoDC,CAApD,CACH,CAhBO,CA0BRF,CAAW,CAACI,SAAZ,CAAsBD,oBAAtB,CAA6C,SAASE,CAAT,CAAqBH,CAArB,CAAkC,CAC3EN,CAAC,CAAC,cAAeS,CAAf,CAA4B,KAA7B,CAAD,CAAoCC,EAApC,CAAuC,QAAvC,CAAiD,UAAW,IAEpDC,CAAAA,CAAY,CAAGX,CAAC,CAAC,IAAD,CAAD,CAAQY,MAAR,CAAe,gBAAf,CAFqC,CAGpDC,CAAO,CAAGF,CAAY,CAACG,IAAb,CAAkBb,CAAS,CAACC,WAA5B,CAH0C,CAIpDa,CAAQ,CAAGJ,CAAY,CAACG,IAAb,CAAkBb,CAAS,CAACE,gBAA5B,CAJyC,CAKxD,GAAIH,CAAC,CAAC,IAAD,CAAD,CAAQgB,EAAR,CAAW,UAAX,CAAJ,CAA4B,CACxBhB,CAAC,CAAC,cAAeM,CAAf,CAA6B,KAA9B,CAAD,CAAqCW,GAArC,CAAyC,CAAzC,EACAJ,CAAO,CAACK,IAAR,CAAa,UAAb,KACAH,CAAQ,CAACG,IAAT,CAAc,UAAd,IACH,CAJD,IAIO,CACHlB,CAAC,CAAC,cAAeM,CAAf,CAA6B,KAA9B,CAAD,CAAqCW,GAArC,CAAyC,CAAzC,EACAJ,CAAO,CAACK,IAAR,CAAa,UAAb,KACAH,CAAQ,CAACG,IAAT,CAAc,UAAd,IACH,CACJ,CAdD,CAeH,CAhBD,CAkBA,MAA0C,CAWtC,KAAQ,cAASb,CAAT,CAAmCC,CAAnC,CAAgD,CACpD,MAAO,IAAIF,CAAAA,CAAJ,CAAgBC,CAAhB,CAA0CC,CAA1C,CACV,CAbqC,CAe7C,CA5DC,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Tcs question form.\n *\n * @module     qtype_tcs/tcs\n * @package    qtype_tcs\n * @copyright  2021 Université de Montréal\n * @author     Issam Taboubi <issam.taboubi@umontreal.ca>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery'],\n    function($) {\n\n        var SELECTORS = {\n            RADIOANSWER: \".answer input[type='radio']\",\n            TEXTAREAFEEDBACK: \".answerfeedback textarea\"\n        };\n\n        /**\n         * Constructor\n         *\n         * @param {String} outsidefieldcompetenceid.\n         * @param {String} inputhidden\n         */\n        var TcsQuestion = function(outsidefieldcompetenceid, inputhidden) {\n\n            this.attachEventListeners(outsidefieldcompetenceid, inputhidden);\n        };\n\n        /**\n         * Private method\n         *\n         * @param {String} checkboxid\n         * @param {String} inputhidden\n         * @method attachEventListeners\n         * @private\n         */\n        TcsQuestion.prototype.attachEventListeners = function(checkboxid, inputhidden) {\n            $('input[id=\"' + checkboxid + '\"]').on('change', function() {\n                // Enable/disable answer and feedback.\n                var questionform = $(this).parent(\".tcs-container\");\n                var answers = questionform.find(SELECTORS.RADIOANSWER);\n                var feedback = questionform.find(SELECTORS.TEXTAREAFEEDBACK);\n                if ($(this).is(\":checked\")) {\n                    $('input[id=\"' + inputhidden + '\"]').val(1);\n                    answers.prop('disabled', true);\n                    feedback.prop('disabled', true);\n                } else {\n                    $('input[id=\"' + inputhidden + '\"]').val(0);\n                    answers.prop('disabled', false);\n                    feedback.prop('disabled', false);\n                }\n            });\n        };\n\n        return /** @alias module:qtype_tcs/tcs */ {\n            // Public variables and functions.\n\n            /**\n             * Initialise.\n             *\n             * @method init\n             * @param {String} outsidefieldcompetenceid.\n             * @param {String} inputhidden\n             * @return {TcsQuestion}\n             */\n            'init': function(outsidefieldcompetenceid, inputhidden) {\n                return new TcsQuestion(outsidefieldcompetenceid, inputhidden);\n            }\n        };\n    });\n"],"file":"tcs.min.js"}