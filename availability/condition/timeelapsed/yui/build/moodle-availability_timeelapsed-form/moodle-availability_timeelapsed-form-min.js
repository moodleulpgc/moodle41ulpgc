YUI.add("moodle-availability_timeelapsed-form",function(e,t){M.availability_timeelapsed=M.availability_timeelapsed||{},M.availability_timeelapsed.form=e.Object(M.core_availability.plugin),M.availability_timeelapsed.form.timeelapseds=null,M.availability_timeelapsed.form.initInner=function(e){this.standardFields=e},M.availability_timeelapsed.form.getNode=function(t){var n='<span class="availability-group"><label>'+M.util.get_string("conditiontitle","availability_timeelapsed")+" "+'<select name="field">'+'<option value="choose">'+M.util.get_string("choosedots","moodle")+"</option>",r;for(var i=0;i<this.standardFields.length;i++)r=this.standardFields[i],n+='<option value="rf_'+r.field+'">'+r.display+"</option>";n+='</select></label> <label><span class="accesshide">'+M.util.get_string("label_operator","availability_timeelapsed")+' </span><select name="op" title="'+M.util.get_string("label_operator","availability_timeelapsed")+'">';var s=["greater","atleast","less","atmost","equal"];for(i=0;i<s.length;i++)n+='<option value="'+s[i]+'">'+M.util.get_string("op_"+s[i],"availability_timeelapsed")+"</option>";n+='</select></label> <label><span class="accesshide">'+M.util.get_string("label_value","availability_timeelapsed")+'</span><input name="value" type="text" style="width: 5em" title="'+M.util.get_string("label_value","availability_timeelapsed")+'"/></label></span>',n+=M.util.get_string("days","availability_timeelapsed");var o=e.Node.create("<span>"+n+"</span>");t.rf!==undefined&&o.one("select[name=field] > option[value=rf_"+t.rf+"]")&&o.one("select[name=field]").set("value","rf_"+t.rf),t.op!==undefined&&o.one("select[name=op] > option[value="+t.op+"]")&&o.one("select[name=op]").set("value",t.op),t.v!==undefined&&o.one("input").set("value",t.v);if(!M.availability_timeelapsed.form.addedEvents){M.availability_timeelapsed.form.addedEvents=!0;var u=function(e){var t=e.ancestor("span.availability_timeelapsed"),n=t.one("select[name=op]"),r=n.get("value")==="isempty"||n.get("value")==="isnotempty";t.one("input[name=value]").set("disabled",r),M.core_availability.form.update()},a=e.one("#fitem_id_availabilityconditionsjson");a.delegate("change",function(){u(this)},".availability_timeelapsed select"),a.delegate("change",function(){u(this)},".availability_timeelapsed input[name=value]")}return o},M.availability_timeelapsed.form.fillValue=function(e,t){var n=t.one("select[name=field]").get("value");n.substr(0,3)==="rf_"&&(e.rf=n.substr(3)),e.op=t.one("select[name=op]").get("value");var r=t.one("input[name=value]");r.get("disabled")||(e.v=r.get("value"))},M.availability_timeelapsed.form.fillErrors=function(e,t){var n={};this.fillValue(n,t),n.rf===undefined&&e.push("availability_timeelapsed:error_selectfield"),n.v!==undefined&&/^\s*$/.test(n.v)&&e.push("availability_timeelapsed:error_setvalue")}},"@VERSION@",{requires:["base","node","event","io","moodle-core_availability-form"]});
